# ç¼–è¯‘å™¨-ç¼–è¯‘å™¨é¡¹ç›® å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸ“‹ é¡¹ç›®æ¦‚è§ˆ

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„**ç¼–è¯‘å™¨ç”Ÿæˆå™¨**é¡¹ç›®ï¼Œæ ¹æ® `mvpç»“æ„è¯´æ˜.md` ä¸¥æ ¼æ„å»ºã€‚

## âœ… é¡¹ç›®å·²å®Œæˆ

### æ ¸å¿ƒæ¨¡å—
âœ“ `src/compiler_generator/lexer_generator.py` - è¯æ³•åˆ†æå™¨ç”Ÿæˆå™¨ï¼ˆåŒå­¦Aï¼‰
âœ“ `src/compiler_generator/parser_generator.py` - è¯­æ³•åˆ†æå™¨ç”Ÿæˆå™¨ï¼ˆåŒå­¦Bï¼‰
âœ“ `src/compiler_generator/code_generator.py` - ä»£ç ç”Ÿæˆå™¨ï¼ˆåŒå­¦Cï¼‰

### å‰ç«¯æ¥å£
âœ“ `src/frontend/rule_parser.py` - è§„åˆ™æ–‡ä»¶è§£æå™¨
âœ“ `src/frontend/cli.py` - å‘½ä»¤è¡Œæ¥å£

### å·¥å…·æ¨¡å—
âœ“ `src/utils/logger.py` - æ—¥å¿—ç³»ç»Ÿ
âœ“ `src/utils/error_handler.py` - é”™è¯¯å¤„ç†

### ç¤ºä¾‹å’Œæµ‹è¯•
âœ“ `examples/simple_expr/` - ç®€å•è¡¨è¾¾å¼è¯­è¨€ç¤ºä¾‹
âœ“ `examples/pl0_subset/` - PL/0å­é›†è¯­è¨€ç¤ºä¾‹
âœ“ `tests/test_lexer.py` - è¯æ³•åˆ†æå™¨æµ‹è¯•ï¼ˆ6ä¸ªæµ‹è¯•ï¼‰
âœ“ `tests/test_parser.py` - è¯­æ³•åˆ†æå™¨æµ‹è¯•ï¼ˆ6ä¸ªæµ‹è¯•ï¼‰
âœ“ `tests/test_integration.py` - é›†æˆæµ‹è¯•ï¼ˆ2ä¸ªæµ‹è¯•ï¼‰

### æ–‡æ¡£
âœ“ `README.md` - å®Œæ•´é¡¹ç›®æ–‡æ¡£
âœ“ `main.py` - ä¸»ç¨‹åºå…¥å£
âœ“ `.gitignore` - Gitå¿½ç•¥è§„åˆ™

## ğŸš€ å¿«é€Ÿè¿è¡Œ

### 1. è®¾ç½®ç¯å¢ƒ
```bash
conda activate base
pip install -r requirements.txt
```

### 2. è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python -m pytest tests/ -v

# è¿è¡Œç‰¹å®šæµ‹è¯•
python -m pytest tests/test_lexer.py -v

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
python -m pytest tests/ --cov=src --cov-report=html
```

### 3. ç¼–è¯‘ç¤ºä¾‹ä»£ç 
```bash
python main.py compile \
  examples/simple_expr/lexer_rules.txt \
  examples/simple_expr/grammar_rules.txt \
  examples/sample.src
```

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ compiler_generator/      # æ ¸å¿ƒç¼–è¯‘å™¨ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ lexer_generator.py    # è¯æ³•åˆ†æå™¨
â”‚   â”œâ”€â”€ parser_generator.py   # è¯­æ³•åˆ†æå™¨
â”‚   â””â”€â”€ code_generator.py     # ä»£ç ç”Ÿæˆå™¨
â”œâ”€â”€ frontend/                 # å‰ç«¯æ¥å£
â”‚   â”œâ”€â”€ rule_parser.py        # è§„åˆ™è§£æ
â”‚   â””â”€â”€ cli.py                # å‘½ä»¤è¡Œå·¥å…·
â””â”€â”€ utils/                    # å·¥å…·æ¨¡å—
    â”œâ”€â”€ logger.py             # æ—¥å¿—
    â””â”€â”€ error_handler.py      # é”™è¯¯å¤„ç†

examples/
â”œâ”€â”€ simple_expr/              # ç®€å•è¡¨è¾¾å¼è¯­è¨€
â”‚   â”œâ”€â”€ lexer_rules.txt
â”‚   â””â”€â”€ grammar_rules.txt
â””â”€â”€ pl0_subset/               # PL/0å­é›†
    â”œâ”€â”€ lexer_rules.txt
    â””â”€â”€ grammar_rules.txt

tests/
â”œâ”€â”€ test_lexer.py             # è¯æ³•æµ‹è¯•
â”œâ”€â”€ test_parser.py            # è¯­æ³•æµ‹è¯•
â””â”€â”€ test_integration.py       # é›†æˆæµ‹è¯•
```

## ğŸ’¡ ä¸»è¦ç‰¹æ€§

- âœ… **å®Œæ•´çš„ç¼–è¯‘æµç¨‹**: è¯æ³•åˆ†æ â†’ è¯­æ³•åˆ†æ â†’ ä»£ç ç”Ÿæˆ
- âœ… **è‡ªåŠ¨åŒ–ç”Ÿæˆ**: ä»è§„åˆ™æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆç¼–è¯‘å™¨
- âœ… **æ¨¡å—åŒ–è®¾è®¡**: æ¯ä¸ªéƒ¨åˆ†ç‹¬ç«‹æµ‹è¯•
- âœ… **è¯¦å°½æ³¨é‡Š**: æ‰€æœ‰ä»£ç éƒ½æœ‰ä¸­æ–‡æ³¨é‡Š
- âœ… **14ä¸ªæµ‹è¯•é€šè¿‡**: å®Œæ•´çš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

## ğŸ”§ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°è¯­è¨€
1. åœ¨ `examples/` åˆ›å»ºæ–°æ–‡ä»¶å¤¹
2. ç¼–å†™ `lexer_rules.txt` å’Œ `grammar_rules.txt`
3. è¿è¡Œ `python main.py compile <rules> <source_file>`

### ä¿®æ”¹ä»£ç ç”Ÿæˆ
ç¼–è¾‘ `src/compiler_generator/code_generator.py` ä¸­çš„ `_traverse_ast()` æ–¹æ³•

### æ”¯æŒæ–°çš„è¯­æ³•ç‰¹æ€§
ä¿®æ”¹ `src/compiler_generator/parser_generator.py` ä¸­çš„è§£æé€»è¾‘

## ğŸ“Š æµ‹è¯•ç»Ÿè®¡

| æ¨¡å— | æµ‹è¯•æ•° | çŠ¶æ€ |
|------|--------|------|
| è¯æ³•åˆ†æ | 6 | âœ… é€šè¿‡ |
| è¯­æ³•åˆ†æ | 6 | âœ… é€šè¿‡ |
| é›†æˆæµ‹è¯• | 2 | âœ… é€šè¿‡ |
| **æ€»è®¡** | **14** | **âœ… å…¨éƒ¨é€šè¿‡** |

## ğŸ¯ æ‰€æœ‰å‡½æ•°éƒ½å·²æ·»åŠ æ³¨é‡Š

æ¯ä¸ªå‡½æ•°éƒ½åŒ…å«ï¼š
- åŠŸèƒ½è¯´æ˜
- å‚æ•°è§£é‡Š
- è¿”å›å€¼è¯´æ˜
- å¼‚å¸¸å¤„ç†è¯´æ˜
- ä½¿ç”¨ç¤ºä¾‹æˆ–è¯´æ˜

## ğŸ“ ä¸‹ä¸€æ­¥å»ºè®®

1. å®Œå–„ PL/0 å­é›†è¯­è¨€çš„è§„åˆ™
2. å®ç° LL(1) åˆ†æè¡¨æ„å»º
3. æ·»åŠ ç±»å‹æ£€æŸ¥å’Œè¯­ä¹‰åˆ†æ
4. æ”¯æŒä¼˜åŒ–çš„ä¸­é—´ä»£ç 
5. å®ç°ä»£ç ç”Ÿæˆä¸ºç›®æ ‡ä»£ç 

## ğŸ‘¥ å›¢é˜Ÿåˆ†å·¥

| æˆå‘˜ | è´Ÿè´£æ¨¡å— |
|------|---------|
| åŒå­¦A | lexer_generator.py |
| åŒå­¦B | parser_generator.py |
| åŒå­¦C | code_generator.py |
| å…¨ä½“ | rule_parser.py, cli.py, tests, docs |

---

**é¡¹ç›®åˆ›å»ºæ—¥æœŸ**: 2025å¹´11æœˆ28æ—¥
**æœ€åæ›´æ–°**: 2025å¹´11æœˆ28æ—¥
**çŠ¶æ€**: âœ… å®Œæˆå¹¶é€šè¿‡æ‰€æœ‰æµ‹è¯•
